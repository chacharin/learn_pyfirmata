# servo_control.py
# ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Servo Motor ‡∏î‡πâ‡∏ß‡∏¢ pyfirmata ‡πÇ‡∏î‡∏¢‡∏™‡πà‡∏á‡∏≠‡∏á‡∏®‡∏≤ 0‚Äì180 ‡∏ú‡πà‡∏≤‡∏ô‡∏Ç‡∏≤ PWM

from pyfirmata import Arduino
import time

# ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Arduino ‡∏ó‡∏µ‡πà‡∏û‡∏≠‡∏£‡πå‡∏ï COM3
board = Arduino('COM3')

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≤ D9 ‡πÄ‡∏õ‡πá‡∏ô servo
# üî∏ 'd'  = digital pin
# üî∏ '9'  = ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° servo
# üî∏ 's'  = servo (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏°‡∏∏‡∏° 0 ‡∏ñ‡∏∂‡∏á 180)
servo_pin = board.get_pin('d:9:s')

print("üìç ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÇ‡∏ß‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà D9")

while True:
    # ‡∏´‡∏°‡∏∏‡∏ô‡∏à‡∏≤‡∏Å 0 ‚Üí 180 ‡∏≠‡∏á‡∏®‡∏≤ ‡∏ó‡∏µ‡∏•‡∏∞ 30 ‡∏≠‡∏á‡∏®‡∏≤
    for angle in range(0, 181, 30):  # üî∏ range(start, stop, step)
        print(f"‚û° ‡∏´‡∏°‡∏∏‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà {angle}¬∞")
        servo_pin.write(angle)  # üî∏ ‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏á‡∏®‡∏≤‡πÑ‡∏õ‡∏¢‡∏±‡∏á servo
        time.sleep(1)

    # ‡∏´‡∏°‡∏∏‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏≤‡∏Å 180 ‚Üí 0 ‡∏≠‡∏á‡∏®‡∏≤
    for angle in range(180, -1, -30):
        print(f"‚¨Ö ‡∏´‡∏°‡∏∏‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏ó‡∏µ‡πà {angle}¬∞")
        servo_pin.write(angle)
        time.sleep(1)
